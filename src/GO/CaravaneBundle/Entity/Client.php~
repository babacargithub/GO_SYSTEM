<?php

namespace  GO\CaravaneBundle\Entity;

use Doctrine\ORM\Mapping as ORM;
use GO\ClientBundle\Entity\Client as BaseClient;

/**
 * Client
 *
 * @ORM\Table(name="caravane_client")
 * @ORM\Entity(repositoryClass="GO\CaravaneBundle\Entity\ClientRepository")
 */
class Client
{
    

    /**
     * @var integer
     *
     * @ORM\Column(name="id", type="integer")
     * @ORM\Id
     * @ORM\GeneratedValue(strategy="IDENTITY")
     */
    private $id;
    /**
      * @var \GO\ClientBundle\Entity\Client
     *
     * @ORM\ManyToOne(targetEntity="GO\ClientBundle\Entity\Client")
     * @ORM\JoinColumns({
     *   @ORM\JoinColumn(name="coordonnees", referencedColumnName="id")
     * })
     */
    private $coordonnees;
     /**
         * @ORM\OneToMany(targetEntity="GO\CaravaneBundle\Entity\Reservation", mappedBy="client")
         *
         * 
         */
    private $reservations;


    public function __construct() {
        $this->reservations= new \Doctrine\Common\Collections\ArrayCollection();
    }
    public function __call($method, $arguments)
    {
        $reflect=new \ReflectionClass("BaseClient");
        if($reflect->hasMethod($method))
        {
            return $this->coordonnees->$method();
        }
        elseif($reflect->hasMethod("get".ucfirst($method)))
        {
            $method="get".ucfirst ($method);
            return $this->coordonnees->$method();
        }else
        {
            throw new Exception("Methode inexistane!");
        }
    }
    
}
